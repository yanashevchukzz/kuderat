!function(n){"use strict";var t,e,o;!function(n){n.TRACKING_LOADED="trackingConsentLoaded",n.TRACKING_ACCEPTED="trackingConsentAccepted",n.TRACKING_DECLINED="trackingConsentDeclined",n.TRACKING_RESET="trackingConsentReset"}(t||(t={})),function(n){n.ACCEPTED="yes",n.DECLINED="no",n.NO_INTERACTION="no_interaction",n.NO_VALUE=""}(e||(e={})),function(n){n.GDPR="GDPR",n.CCPA="CCPA",n.NO_VALUE=""}(o||(o={}));function c(){const n=document.cookie?document.cookie.split("; "):[];let t=void 0;return n.forEach(n=>{const[e,o]=n.split("=");if("_tracking_consent"===decodeURIComponent(e)){var c=JSON.parse(decodeURIComponent(o));t=c}}),t}function r(n,t,e){const o=new XMLHttpRequest,c="https://"+document.location.host+"/set_tracking_consent.json",r=JSON.stringify(n);o.open("POST",c,!0),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(4!==o.readyState)return;const n=0===o.status||200>=o.status&&o.status<400;let c;try{c=JSON.parse(o.responseText)}catch(n){c={error:"Unknown error"}}n?(e&&document.dispatchEvent(new CustomEvent(e,{detail:{}})),t(null,c)):t(c)},o.send(r)}function s(n,e){return n?r({consent:!0},e,t.TRACKING_ACCEPTED):r({consent:!1},e)}function i(){try{const t=c();return t&&t.consent===e.ACCEPTED||t&&t.consent===e.DECLINED||t&&t.consent===e.NO_VALUE?(n=t.consent)===e.NO_VALUE?e.NO_INTERACTION:n:e.NO_VALUE}catch(n){return new Error(n)}var n}function a(){try{const n=c();return!!(!n||n&&n.consent===e.ACCEPTED||n&&n.regulation===o.NO_VALUE&&n.consent!==e.DECLINED)}catch(n){return new Error(n)}}function C(){const n=c();if(n&&n.regulation)switch(n.regulation.toUpperCase()){case o.GDPR:return o.GDPR;case o.CCPA:return o.CCPA;default:return""}return""}function u(){return{getTrackingConsent:i,setTrackingConsent:s,userCanBeTracked:a,getRegulation:C}}window.Shopify=window.Shopify?window.Shopify:{},window.Shopify.trackingConsent=u(),n.CONSENT_COOKIE_NAME="_tracking_consent",n.shopifyConsentAPI=u}({});
//# sourceMappingURL=consent-tracking-api.js.map
